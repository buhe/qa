---
id: dosage
title: 计量方法
---

## 一、目的说明

阐述清楚计量的规则方便可以控制成本

## 二、白板怎么计量

每一个活跃（有心跳）的长连接，每分钟会打一个点，累计打点数据之和就是客户的总使用时长。

- 问题一：是否创建房间就开始计费。回答：不是，创建的房间中没有客户连入的情况下不收费
- 问题二：如何退出房间。回答：调用 room 对象下的 disconnect() 方法
- 问题三：如果不调用 disconnect() 白板会怎么处理。回答：如果是客户端已经实际上断连，会走一个 30 秒的超时逻辑，然后停止计费。
- 问题四：如果学生不退出是否会一直计费，如果是怎么办。 回答：会计费，因为底层只根据是否有活跃长连接判断。可以用 [ban-api](docs/server/api/server-whiteboard-base/#白板管理) 强制所有人退出

## 三、怎么选择最合适用法

1. 大课（50 人以上）开启只读模式
2. 离开房间调用 disconnect()
3. 课程结束结束后强制所有人退出， 使用 [ban-api](docs/server/api/server-whiteboard-base/#白板管理)
